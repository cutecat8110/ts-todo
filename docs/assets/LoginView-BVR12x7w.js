import{_ as C}from"./UIButton.vue_vue_type_script_setup_true_lang-aKJXdBnc.js";import{d as F,j as B,x as g,N as E,g as S,e as t,w as b,f as o,l as R,m as I,r as d,o as M,p as s,K as x}from"./index-C2eCa2XO.js";const z={class:"container flex min-h-screen items-center justify-center py-12"},L=s("div",{class:"tracking-widest"},[s("h1",{class:"text-center text-4xl font-bold"},"TS Todo"),s("h2",{class:"mt-2 text-center text-sm text-gray-400"},"Sign in to System")],-1),N={class:"space-y-4"},U={class:"block",for:"email"},$=s("div",{class:"font-bold"},"電子信箱",-1),j={class:"block",for:"password"},q=s("div",{class:"font-bold"},"密碼",-1),T={class:"space-y-4"},A=s("div",{class:"text-center text-xs text-gray-600"},"Copyright © 2024 by Hao",-1),P=F({__name:"LoginView",setup(D){var u,p;const y=B(),w=R(),c=(p=(u=I())==null?void 0:u.proxy)==null?void 0:p.$Swal,k=g(null),n=g({email:"test@example.com",password:"test123456"}),{isFetching:r,execute:h}=E({afterFetch({data:l}){const{token:e,nickname:i}=l;return y.auth={token:e,nickname:i},w.push({name:"todo"}),{data:l}},onFetchError({data:l}){return c==null||c.fire({title:l.message,icon:"error",showConfirmButton:!1,timer:2e3,willClose:()=>{var e;(e=document.getElementById("email"))==null||e.focus()}}),l}}).post(n.value);return(l,e)=>{const i=d("VField"),f=d("ErrorMessage"),_=C,V=d("RouterLink"),v=d("VForm");return M(),S("div",z,[t(v,{ref_key:"formRefs",ref:k,class:"flex max-w-80 flex-1 flex-col gap-16 pb-16",onSubmit:e[2]||(e[2]=m=>o(h)())},{default:b(({errors:m})=>[L,s("div",N,[s("label",U,[$,t(i,{id:"email",modelValue:o(n).email,"onUpdate:modelValue":e[0]||(e[0]=a=>o(n).email=a),modelModifiers:{trim:!0},class:x([m.email?"ring-red-600":"ring-gray-300 focus:ring-blue-600","mt-2 w-full rounded-md px-4 py-2 outline-none ring-1 ring-inset"]),name:"email",label:"電子信箱",type:"text",rules:"required|email",disabled:o(r)},null,8,["modelValue","class","disabled"]),t(f,{class:"mt-2 block text-red-600",name:"email"})]),s("label",j,[q,t(i,{id:"password",modelValue:o(n).password,"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).password=a),modelModifiers:{trim:!0},class:x([m.password?"ring-red-600":"ring-gray-300 focus:ring-blue-600 ","mt-2 w-full rounded  px-4 py-2 outline-none ring-1 ring-inset"]),name:"password",label:"密碼",type:"password",rules:"required",disabled:o(r)},null,8,["modelValue","class","disabled"]),t(f,{class:"mt-2 block text-red-600",name:"password"})])]),s("div",T,[t(_,{label:"登入",type:"submit",block:"",color:"blue",size:"lg",disabled:o(r)},null,8,["disabled"]),t(V,{to:{name:"signup"},custom:""},{default:b(({navigate:a})=>[t(_,{class:"mx-auto",label:"註冊",color:"blue",role:"link",size:"lg",variant:"link",disabled:o(r),onClick:a},null,8,["disabled","onClick"])]),_:1})]),A]),_:1},512)])}}});export{P as default};
