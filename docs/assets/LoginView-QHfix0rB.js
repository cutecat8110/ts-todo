import{_ as z}from"./PageCopyright-CSTwpMKX.js";import{_ as M}from"./UITooltip-Dm4EQIFz.js";import{d as R,u as L,a as U,q as f,K as $,n as P,e as T,f as t,h as s,w as g,i as o,c as j,g as G,J as u,o as N,C as h,_ as A,p as D,j as J,k as K}from"./index-DWb1hAVM.js";const b=i=>(D("data-v-20722c0f"),i=i(),J(),i),H={class:"login-view"},O={class:"container flex min-h-screen items-center justify-center py-12"},Q=b(()=>t("div",{class:"tracking-widest"},[t("h1",{class:"text-center text-4xl font-bold text-blue-600"},"TS Todo"),t("h2",{class:"mt-2 text-center text-sm text-gray-400"},"Sign in to System")],-1)),W={class:"space-y-4"},X={class:"block",for:"email"},Y=b(()=>t("div",{class:"font-bold"},"電子信箱",-1)),Z={class:"relative"},ee={class:"block",for:"password"},se=b(()=>t("div",{class:"font-bold"},"密碼",-1)),oe={class:"relative"},te={class:"space-y-4"},ne=R({__name:"LoginView",setup(i){var v,x;const w=L(),k=U(),C=j(),p=(x=(v=G())==null?void 0:v.proxy)==null?void 0:x.$Swal,V=f(null),n=f({email:"",password:""}),r=f(!0),S=()=>{n.value={email:"test@example.com",password:"test123456"},k.success({message:"已自動填入."})},{isFetching:c,execute:I}=$({afterFetch({data:l}){const{token:e,nickname:d}=l;return w.auth={token:e,nickname:d},C.push({name:"todo"}),{data:l}},onFetchError({data:l}){return p==null||p.fire({title:l.message,icon:"error",showConfirmButton:!1,timer:2e3,willClose:()=>{var e;(e=document.getElementById("email"))==null||e.focus()}}),l}}).post(P(()=>n.value));return(l,e)=>{const d=u("VField"),m=A,F=M,y=u("ErrorMessage"),B=u("RouterLink"),E=z,q=u("VForm");return N(),T("div",H,[t("div",O,[s(q,{ref_key:"formRefs",ref:V,class:"flex max-w-80 flex-1 flex-col gap-16 pb-16",onSubmit:e[3]||(e[3]=_=>o(I)())},{default:g(({errors:_})=>[Q,t("div",W,[t("label",X,[Y,t("div",Z,[s(d,{id:"email",modelValue:o(n).email,"onUpdate:modelValue":e[0]||(e[0]=a=>o(n).email=a),modelModifiers:{trim:!0},class:h([_.email?"ring-red-600":"ring-gray-300 hover:ring-blue-600 focus:ring-blue-600","mt-2 w-full rounded-md py-2 pl-4 pr-10 outline-none ring-1 ring-inset transition-all"]),name:"email",label:"電子信箱",type:"text",rules:"required|email",disabled:o(c)},null,8,["modelValue","class","disabled"]),s(F,{class:"!absolute right-2 top-1/2 -translate-y-1/2 pt-2",text:"自動填入預設"},{default:g(()=>[s(m,{color:"lightGray",icon:"ic:round-vpn-key",size:"sm",square:"",variant:"text",onClick:S})]),_:1})]),s(y,{class:"mt-2 block text-red-600",name:"email"})]),t("label",ee,[se,t("div",oe,[s(d,{id:"password",modelValue:o(n).password,"onUpdate:modelValue":e[1]||(e[1]=a=>o(n).password=a),modelModifiers:{trim:!0},class:h([_.password?"ring-red-600":"ring-gray-300 hover:ring-blue-600 focus:ring-blue-600","mt-2 w-full rounded-md py-2 pl-4 pr-10 outline-none ring-1 ring-inset transition-all"]),name:"password",label:"密碼",type:o(r)?"password":"text",rules:"required",disabled:o(c)},null,8,["modelValue","class","type","disabled"]),s(m,{class:"!absolute right-2 top-1/2 -translate-y-1/2 pt-2",icon:o(r)?"ic:round-visibility-off":"ic:round-visibility",color:"lightGray",size:"sm",square:"",variant:"text",onClick:e[2]||(e[2]=a=>r.value=!o(r))},null,8,["icon"])]),s(y,{class:"mt-2 block text-red-600",name:"password"})])]),t("div",te,[s(m,{label:"登入",type:"submit",block:"",color:"blue",size:"lg",disabled:o(c)},null,8,["disabled"]),s(B,{to:{name:"signup"},custom:""},{default:g(({navigate:a})=>[s(m,{class:"mx-auto",label:"註冊",color:"blue",size:"lg",variant:"link",disabled:o(c),onClick:a},null,8,["disabled","onClick"])]),_:1})]),s(E)]),_:1},512)])])}}}),re=K(ne,[["__scopeId","data-v-20722c0f"]]);export{re as default};
