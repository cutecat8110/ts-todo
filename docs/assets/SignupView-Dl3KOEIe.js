import{_ as v}from"./UIButton.vue_vue_type_script_setup_true_lang-aKJXdBnc.js";import{d as B,k as F,x,M as S,g as E,e as t,w as b,f as e,l as M,m as R,r as c,o as T,p as s,K as p}from"./index-C2eCa2XO.js";const I={class:"container flex min-h-screen items-center justify-center py-12"},U=s("div",{class:"tracking-widest"},[s("h1",{class:"text-center text-4xl font-bold"},"TS Todo"),s("h2",{class:"mt-2 text-center text-sm text-gray-400"},"Sign up for System")],-1),q={class:"space-y-4"},z={class:"block",for:"email"},$=s("div",{class:"font-bold"},"電子信箱",-1),L={class:"block",for:"password"},N=s("div",{class:"font-bold"},"密碼",-1),j={class:"block",for:"nickname"},A=s("div",{class:"font-bold"},"暱稱",-1),D={class:"space-y-4"},H=s("div",{class:"text-center text-xs text-gray-600"},"Copyright © 2024 by Hao",-1),J=B({__name:"SignupView",setup(K){var f,g;const k=F(),y=M(),i=(g=(f=R())==null?void 0:f.proxy)==null?void 0:g.$Swal,w=x(null),n=x({email:"test@example.com",password:"test123456",nickname:"小明"}),{isFetching:r,execute:V}=S({afterFetch({data:a}){return i==null||i.fire({title:"註冊成功!",text:"登入你的 TS Todo 帳戶",icon:"success",confirmButtonText:"前往",confirmButtonColor:k.confirmButtonColor,willClose:()=>{y.push({name:"login"})}}),a},onFetchError({data:a}){return i==null||i.fire({title:a.message,icon:"error",showConfirmButton:!1,timer:2e3,willClose:()=>{var o;(o=document.getElementById("email"))==null||o.focus()}}),a}}).post(n.value);return(a,o)=>{const m=c("VField"),u=c("ErrorMessage"),_=v,h=c("RouterLink"),C=c("VForm");return T(),E("div",I,[t(C,{ref_key:"formRefs",ref:w,class:"flex max-w-80 flex-1 flex-col gap-16 pb-16",onSubmit:o[3]||(o[3]=d=>e(V)())},{default:b(({errors:d})=>[U,s("div",q,[s("label",z,[$,t(m,{id:"email",modelValue:e(n).email,"onUpdate:modelValue":o[0]||(o[0]=l=>e(n).email=l),modelModifiers:{trim:!0},class:p([d.email?"ring-red-600":"ring-gray-300 focus:ring-green-600","mt-2 w-full rounded-md px-4 py-2 outline-none ring-1 ring-inset"]),name:"email",label:"電子信箱",type:"text",rules:"required",disabled:e(r)},null,8,["modelValue","class","disabled"]),t(u,{class:"mt-2 block text-red-600",name:"email"})]),s("label",L,[N,t(m,{id:"password",modelValue:e(n).password,"onUpdate:modelValue":o[1]||(o[1]=l=>e(n).password=l),modelModifiers:{trim:!0},class:p([d.password?"ring-red-600":"ring-gray-300 focus:ring-green-600","mt-2 w-full rounded px-4 py-2 outline-none ring-1 ring-inset"]),name:"password",label:"密碼",type:"password",rules:"required|min:6",disabled:e(r)},null,8,["modelValue","class","disabled"]),t(u,{class:"mt-2 block text-red-600",name:"password"})]),s("label",j,[A,t(m,{id:"nickname",modelValue:e(n).nickname,"onUpdate:modelValue":o[2]||(o[2]=l=>e(n).nickname=l),modelModifiers:{trim:!0},class:p([d.nickname?"ring-red-600":"ring-gray-300 focus:ring-green-600","mt-2 w-full rounded px-4 py-2 outline-none ring-1 ring-inset"]),name:"nickname",label:"暱稱",type:"text",rules:"required",disabled:e(r)},null,8,["modelValue","class","disabled"]),t(u,{class:"mt-2 block text-red-600",name:"nickname"})])]),s("div",D,[t(_,{label:"註冊",type:"submit",block:"",color:"green",size:"lg",disabled:e(r)},null,8,["disabled"]),t(h,{to:{name:"login"},custom:""},{default:b(({navigate:l})=>[t(_,{class:"mx-auto",label:"登入",color:"green",role:"link",size:"lg",variant:"link",disabled:e(r),onClick:l},null,8,["disabled","onClick"])]),_:1})]),H]),_:1},512)])}}});export{J as default};
